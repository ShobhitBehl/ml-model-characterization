CREATE TABLE Models (
  model_name STRING(1024) NOT NULL,
  category STRING(1024),
  num_inputs INT64,
  num_outputs INT64,
  max_fan_in INT64,
  max_fan_out INT64,
  source STRING(1024),
  sub_category STRING(1024),
  embeddings ARRAY<FLOAT64>,
  model_type STRING(1024),
) PRIMARY KEY(model_name);

CREATE TABLE Operators (
  model_name STRING(1024) NOT NULL,
  operator_id INT64 NOT NULL,
  operator_type STRING(1024),
  padding STRING(1024),
  activation_function STRING(1024),
  stride_h INT64,
  stride_w INT64,
  dilation_h_factor INT64,
  dilation_w_factor INT64,
  depth_multiplier INT64,
  num_channels INT64,
  lsh_projection_type STRING(1024),
  filter_width INT64,
  filter_height INT64,
  asymmetric_quantize_inputs BOOL,
  weights_format STRING(1024),
  keep_num_dims BOOL,
  axis INT64,
  lstm_kernel_type STRING(1024),
  ngram_size INT64,
  max_skip_size INT64,
  include_all_ngrams BOOL,
  combiner STRING(1024),
  num_splits INT64,
  in_data_type STRING(1024),
  out_data_type STRING(1024),
  merge_outputs BOOL,
  mirror_pad_mode STRING(2024),
  is_training BOOL,
  rnn_mode STRING(1024),
  input_mode STRING(1024),
  direction STRING(1024),
  data_format STRING(1024),
  is_input BOOL,
) PRIMARY KEY(model_name, operator_id),
  INTERLEAVE IN PARENT Models ON DELETE CASCADE;

CREATE TABLE Tensors (
  model_name STRING(1024) NOT NULL,
  tensor_id INT64 NOT NULL,
  tensor_label STRING(1024),
  tensor_type STRING(1024),
  tensor_shape ARRAY<INT64>,
  from_operator_ids ARRAY<INT64>,
  to_operator_ids ARRAY<INT64>,
) PRIMARY KEY(model_name, tensor_id),
  INTERLEAVE IN PARENT Models ON DELETE CASCADE;